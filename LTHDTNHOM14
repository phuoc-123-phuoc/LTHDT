#include <iostream>
#include <iomanip>
#include <time.h>
#include <fstream>
using namespace std;

class HOTEN
{
		private:
			string Ho, TenDem, Ten;
		public:
			HOTEN(string ho="", string tendem="", string ten="");
			void Nhap();
			string GetHo();
			string GetTenDem();
			string GetTen();
};
void HOTEN::Nhap()
{
	cout<<"\nNhap ho: ";
	fflush(stdin);
	cin>>Ho;
	cout<<"\nNhap ten dem: ";
	fflush(stdin);
	getline(cin,TenDem);
	cout<<"\nNhap ten: ";
	cin>>Ten;
}
HOTEN::HOTEN(string ho, string tendem, string ten)
{
	Ho=ho;
	TenDem=tendem;
	Ten=ten;
}
string HOTEN::GetHo()
{
	return Ho;
}
string HOTEN::GetTenDem()
{
	return TenDem;
}
string HOTEN::GetTen()
{
	return Ten;
}
class MONHOC
{
		private:
			float Lthdt, Ctdlvgt, Csdl,TkWeb;
		public:
		    MONHOC(float mon1=0, float mon2=0, float mon3=0, float mon4=0);	
		    void Nhap();
		    float GetDiemLthdt();
		    float GetDiemCtdlvgt();
		    float GetDiemCsdl();
		    float GetDiemTkWeb();
		    float GetDtb();
};
MONHOC::MONHOC(float mon1, float mon2, float mon3, float mon4)
{
	Lthdt=mon1;
	Ctdlvgt=mon2;
	Csdl=mon3;
	TkWeb=mon4;
}
void MONHOC::Nhap()
{
	cout<<"\nNhap diem mon Lap trinh huong doi tuong: ";
	cin>>Lthdt;
	cout<<"\nNhap diem mon Cau truc du lieu va giai thuat: ";
	cin>>Ctdlvgt;
	cout<<"\nNhap diem mon Co so du lieu: ";
	cin>>Csdl;
	cout<<"\nNhap diem mon Thiet ke web: ";
	cin>>TkWeb;
}
float MONHOC::GetDiemLthdt()
{
	return Lthdt;
}
float MONHOC::GetDiemCtdlvgt()
{
	return Ctdlvgt;
}
float MONHOC::GetDiemCsdl()
{
	return Csdl;
}
float MONHOC::GetDiemTkWeb()
{
	return TkWeb;
}
float MONHOC::GetDtb()
{
	return (Lthdt+Ctdlvgt+Csdl+TkWeb)/4;
}
class NGAYSINH
{
		private:
			int Ngay, Thang, Nam;
		public:
		    NGAYSINH(int ngay=1, int thang=1, int nam=2002 );
			void Nhap();
			int GetNgay();
			int GetThang();
			int	GetNam();
			int GetTuoi();
};
NGAYSINH::NGAYSINH(int ngay, int thang, int nam)
{
	Ngay=ngay;
	Thang=thang;
	Nam=nam;
}
void NGAYSINH::Nhap()
{
	cout<<"\nNhap ngay sinh: ";
	cin>>Ngay;
	cout<<"\nNhap thang sinh: ";
	cin>>Thang;
	cout<<"\nNhap nam sinh: ";
	cin>>Nam;
}
int NGAYSINH::GetNgay()
{
	return Ngay;
}
int NGAYSINH::GetThang()
{
	return Thang;
}
int NGAYSINH::GetNam()
{
	return Nam;
}
int NGAYSINH::GetTuoi()
{
	int namhientai;
	time_t t = time(0);
	struct tm *Now = localtime(&t);
	namhientai = Now ->tm_year + 1900;
	return namhientai-Nam;
}
class SINHVIEN:public HOTEN,public MONHOC,public NGAYSINH
{
	private:
		string MSV;
		string GioiTinh;
	public:
		SINHVIEN(string msv="", string gioitinh="",int ngay=1, int thang=1, int nam=2002,string ho="",string tendem="", string ten="",float Lthdt=0, float Ctdlvgt=0, float Csdl=0, float TkWeb=0):HOTEN(ho,tendem,ten),NGAYSINH(ngay,thang,nam),MONHOC(Lthdt,Ctdlvgt,Csdl,TkWeb)
		{
			MSV=msv;
			GioiTinh=gioitinh;
		}
	    void Nhap();
		string GetMSV();
		string GetGioiTinh();	
};
void SINHVIEN::Nhap()
{
	HOTEN::Nhap();
	NGAYSINH::Nhap();
	MONHOC::Nhap();
	cout<<"\nNhap ma sinh vien: ";
	fflush(stdin);
	cin>>MSV;
	cout<<"\nNhap gioi tinh: ";
	fflush(stdin);
	cin>>GioiTinh;
}
string SINHVIEN::GetMSV()
{
	return MSV;
}
string SINHVIEN::GetGioiTinh()
{
	return GioiTinh;
}
struct NODE
{
	SINHVIEN data;  
	struct NODE *pNext; 
};
class LIST
{
	private:
		NODE* pHead; 
		NODE* pTail; 
	public:
		LIST();
		NODE* KhoiTaoNODE(SINHVIEN x);
	    void ThemVaoCuoi(NODE* p);	
	    void XuatDanhSach();
	    void NhapDS();
	    void Xoa_msv();
	    void SapXep_msv();
	    void SapXep_Ten();
	    void SapXep_Tuoi();
	    void SapXep_Dtb();
	    void SapXep_gioitinh();
	    void luufile();
	    void Tim_msv();
	    void Tim_Ten();
	    void Tim_dtb();
	    void Tim_Gioitinh();
	    void Tim_Tuoi();
        void Sua_msv();
        void XoaDs();
        int Dem_dtb();
        int Dem_Ten();
        int Dem_Gioitinh();
        int Dem_Tuoi();
        void ThongKe_Dtb();
        void ThongKe_Tuoi();
        void ThongKe_Ten();
        void ThongKe_GioiTinh();
        
};
LIST::LIST()
{
	pHead=NULL;
	pTail=NULL;
}
NODE* LIST::KhoiTaoNODE(SINHVIEN x)
{
	NODE *p = new NODE; 
	if (p == NULL)
	{
		cout << "\nKhong du bo nho de cap phat !";
		return NULL;
	}
	p->data = x; 
	p->pNext = NULL; 
	return p; 
}
